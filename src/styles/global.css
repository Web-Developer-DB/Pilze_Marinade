
*{ box-sizing:border-box }

html{
  height:100%;
  scroll-behavior:smooth;
}

html, body{ height:100% }

body{
  margin:0;
  min-height:100%;
  font-family: var(--font-sans);
  font-size: var(--fs-md);
  line-height: var(--lh-base);
  color: var(--ink);
  background: var(--bg);
  background-image: var(--bg-grad);
  background-attachment: fixed;
  -webkit-text-size-adjust:100%;
  text-rendering: optimizeLegibility;
  overflow-x:hidden;
  position:relative;
  isolation:isolate;
}

body::before,
body::after{
  content:"";
  position:fixed;
  inset:auto;
  width:min(55vw, 520px);
  height:min(55vh, 520px);
  border-radius:50%;
  filter: blur(60px);
  opacity:.45;
  pointer-events:none;
  z-index:-1;
  animation: ambientPulse 18s ease-in-out infinite;
}

body::before{
  top:-14vh;
  right:-12vw;
  background: radial-gradient(circle at 30% 30%, color-mix(in oklab, var(--accent) 55%, transparent), transparent 70%);
}

body::after{
  bottom:-18vh;
  left:-10vw;
  animation-delay:-6s;
  background: radial-gradient(circle at 60% 60%, color-mix(in oklab, var(--accent-2) 65%, transparent), transparent 70%);
}

@keyframes ambientPulse{
  0%,100%{ transform: translate3d(0,0,0) scale(1); }
  50%{ transform: translate3d(0,-12px,0) scale(1.05); }
}

img{
  display:block;
  max-width:100%;
  height:auto;
  border-radius:inherit;
}

h1, h2, h3{
  font-family: var(--font-serif);
  line-height: var(--lh-tight);
  letter-spacing:-.015em;
  margin:.2rem 0 .35rem;
}
h1{ font-size: var(--fs-xxl); color: var(--accent); }
h2{ font-size: var(--fs-xl); color: var(--accent-2); font-weight:700; }
h3{ font-size: var(--fs-lg); color: var(--accent-3); font-weight:600; }

p{ margin:.4rem 0 1rem; }

code, pre, .formula{
  font-family: var(--font-mono);
  font-size:.92em;
}

.wrap{
  max-width: var(--container);
  margin:0 auto;
  padding: clamp(22px, 6vw, 56px) clamp(18px, 5vw, 46px) 160px;
}

a{
  color: inherit;
  text-decoration: none;
  position:relative;
  display:inline-block;
  transition: color .35s ease;
}

a::after{
  content:"";
  position:absolute;
  inset:auto 0 -3px 0;
  height:2px;
  background: linear-gradient(90deg, var(--accent), var(--accent-3), var(--accent));
  background-size:200% 100%;
  transform: scaleX(0);
  transform-origin:left;
  transition: transform .4s ease;
}

a:hover{
  color: color-mix(in oklab, var(--accent), var(--ink) 35%);
}

a:hover::after{
  transform: scaleX(1);
  animation: shimmer 2.2s linear infinite;
}

ul, ol{
  padding-left:1.1rem;
  margin:.3rem 0 1rem;
  display:grid;
  gap:.55rem;
}

table{
  width:100%;
  border-collapse:collapse;
  font-variant-numeric: tabular-nums;
  font-size:.97rem;
}

th, td{
  border:1px solid var(--hair);
  padding:12px 14px;
  text-align:left;
  vertical-align:top;
  border-radius:6px;
  background: color-mix(in oklab, var(--card), transparent 8%);
}

thead th{
  color: var(--accent);
  background: color-mix(in oklab, var(--card), var(--accent) 9%);
}

tbody tr:nth-child(odd) td{
  background: color-mix(in oklab, var(--card), transparent 20%);
}

figure{ margin:0; }

.sr-only{
  position:absolute;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

@media (prefers-reduced-motion: reduce){
  body{ background-attachment: scroll; }
  body::before,
  body::after{
    display:none;
    animation:none;
  }
}

@media (max-width: 768px), (pointer:coarse) and (hover:none){
  body{
    background-attachment: scroll;
    background-image: none;
  }
  body::before,
  body::after{
    display:none;
    animation:none;
  }
}
